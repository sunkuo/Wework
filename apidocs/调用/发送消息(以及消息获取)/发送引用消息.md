# 发送引用消息

## 简要描述
- 发送引用消息

## 请求URL
- `http://127.0.0.1:8083/wxwork/sendQuoteMsg`

## 请求方式
- POST
- ContentType: `application/json`

## 参数
| 参数名 | 类型 | 必填 | 默认值 | 说明 |
| --- | --- | --- | --- | --- |
| uuid | String | 是 | 无 | uuid用来操作账号 |
| kf_id | Long | 否 | 无 | 客服id用来回复客服消息 |
| send_userid | Long | 是 | 无 | 发送人或者群id |
| isRoom | Bool | 是 | 无 | 如果是给群发true 否则false |
| content | Object[] | 是 | 无 | 回复引用消息内容 |
| ├─ msgtype | int | 是 | 无 | 消息类型0文本 |
| ├─ content | String | 是 | 无 | 引用消息内容 |
| quoteMsg | Object | 是 | 无 | 引用的那个消息对象 |
| ├─ appinfo | String | 是 | 无 | 引用的那个消息appinfo |
| ├─ content_type | int | 是 | 无 | 引用的那个消息,消息类型 |
| ├─ sender | Long | 是 | 无 | 引用的那个消息发送人id |
| ├─ quote_roomid | Long | 否 | 无 | 如果是在群里回复引用消息这里填群id，如果是单聊则忽略不传 |
| ├─ content | Object | 是 | 无 | 引用的那条消息类型详细内容 |

## quoteMsg->content 说明
- 引用的内容一定要带着，不带着显示不全。

### msgtype字段详解
```text
TEXT=0    //文本消息
IMAGE=1   //图片消息
FILE=2    //文件消息
VIDEO=3   //视频消息
VOICE=4   //语音消息
LINK=5    //连接消息
CARD=6    //名片消息
CARD=7    //小程序消息
```

### 引用内容结构示例
```json
[
  {
    "msgtype": 0,
    "content": "4546545"
  },
  {
    "msgtype": 1,
    "file_id": "306b020102046430620201000204060b1x...",
    "file_size": 41505,
    "width": 154,
    "height": 154,
    "is_hd": 1,
    "aes_key": "e2c3e663d321bbcd0051371f2d0ad4f0",
    "md5": "efaf887ca055806f139409b13f35b93c"
  },
  {
    "msgtype": 2,
    "file_id": "https://imunion.weixin.qq.com/cgi-bin/mmae-bin/tpdownloadmedia?param=...",
    "file_name": "doc07125520240614090407.pdf",
    "auth_key": "v1_53a9369ab06bc670...",
    "file_size": 1385151,
    "aes_key": "9fad9e4315978d4b2cbb62eb39e04747",
    "md5": "01408d3f3647bfdbba8f741d09e36f3c"
  },
  {
    "msgtype": 3,
    "file_id": "https://imunion.weixin.qq.com/cgi-bin/mmae-bin/tpdownloadmedia?param=...",
    "preview_img_url": "https://imunion.weixin.qq.com/cgi-bin/mmae-bin/tpdownloadmedia?param=...",
    "openim_cdn_ld_size": 12747,
    "auth_key": "v1_aa6db07f1804c84f...",
    "file_size": 1736664,
    "video_duration": 15,
    "aes_key": "bb5147116d57a321bde8fe15bcd81f24",
    "md5": "14f369b467e87ff77056152b55dc3fef"
  },
  {
    "msgtype": 4,
    "file_id": "308183020102047c307a020100...",
    "voice_size": 5425,
    "voice_time": 3,
    "aes_key": "636B626B706170706B6B6F7374626C6B",
    "md5": "7bda1bed6edec8a95cc9fca1d38440ff"
  },
  {
    "msgtype": 5,
    "title": "天津一母亲临终将脑瘫儿子托付给21岁女儿...",
    "des": "",
    "headImg": "https://mmbiz.qpic.cn/sz_mmbiz_jpg/...",
    "url": "http://mp.weixin.qq.com/s?..."
  },
  {
    "msgtype": 6,
    "username": 78813020591,
    "nickname": "昵称",
    "headImg": "http://wx.qlogo.cn/mmhead/.../0",
    "enterpriseName": "微信"
  },
  {
    "msgtype": 7,
    "desc": "简介",
    "title": "内容标题",
    "appName": "小程序名字",
    "pagepath": "pages/index/index.html",
    "username": "gh_e398fcb4745c@app",
    "appid": "",
    "cdnkey": "306d020102046630640201000204...",
    "md5": "ce20e2e41540ada50eddfed55c5ff739",
    "aeskey": "71746670656C6A726A6D7A617A77797A",
    "fileSize": "230539",
    "weappIconUrl": "http://mmbiz.qpic.cn/mmbiz_png/..."
  }
]
```

## 给文本消息，发送引用请求示例
```json
{
  "uuid": "7709ff0d22ab951c6c0770a676f0b44a",
  "kf_id": 0,
  "send_userid": 10817857838351957,
  "isRoom": true,
  "content": [
    {
      "msgtype": 0,
      "content": "\"十年一刻：\n4546545\"\n------\n"
    },
    {
      "msgtype": 0,
      "content": "消息引用测试群聊"
    }
  ],
  "quoteMsg": {
    "appinfo": "CIGABBCcw63DBhjhs6ywkICAAyAK",
    "content_type": 2,
    "sender": 1688854256622049,
    "quote_roomid": 10817857838351957,
    "content": {
      "msgtype": 0,
      "content": "4546545"
    }
  }
}
```

## 给企微用户发的图片消息，发送引用请求示例
```json
{
  "uuid": "7709ff0d22ab951c6c0770a676f0b44a",
  "kf_id": 0,
  "send_userid": 10817857838351957,
  "isRoom": true,
  "content": [
    {
      "msgtype": 0,
      "content": "\"十年一刻：\n图片\"\n------\n"
    },
    {
      "msgtype": 0,
      "content": "测试群引用消息，引用内容是图片"
    }
  ],
  "quoteMsg": {
    "appinfo": "CIGABBC79q3DBhjhs6ywkICAAyAT",
    "content_type": 14,
    "sender": 1688854256622049,
    "quote_roomid": 10817857838351957,
    "content": {
      "msgtype": 1,
      "file_id": "306b020102046430620201000204060b1x...",
      "file_size": 41505,
      "width": 154,
      "height": 154,
      "is_hd": 1,
      "aes_key": "e2c3e663d321bbcd0051371f2d0ad4f0",
      "md5": "efaf887ca055806f139409b13f35b93c"
    }
  }
}
```

## 给个微用户发的图片消息，发送引用请求示例
```json
{
  "uuid": "7709ff0d22ab951c6c0770a676f0b44a",
  "kf_id": 0,
  "send_userid": 10817857838351957,
  "isRoom": true,
  "content": [
    {
      "msgtype": 0,
      "content": "\"十年一刻：\n图片\"\n------\n"
    },
    {
      "msgtype": 0,
      "content": "测试群引用消息，引用内容是外部联系人发的图片"
    }
  ],
  "quoteMsg": {
    "appinfo": "3826414583477651862",
    "content_type": 101,
    "sender": 7881302555913738,
    "quote_roomid": 10817857838351957,
    "content": {
      "msgtype": 1,
      "file_id": "https://imunion.weixin.qq.com/cgi-bin/mmae-bin/tpdownloadmedia?param=...",
      "auth_key": "v1_53a9369ab06bc670...",
      "file_size": 41505,
      "width": 150,
      "height": 150,
      "aes_key": "aac34b4b27d8e1ff7f485786eae83bd6",
      "md5": "efaf887ca055806f139409b13f35b93c"
    }
  }
}
```

## 给个微用户发的文件消息，发送引用请求示例
```json
{
  "uuid": "7709ff0d22ab951c6c0770a676f0b44a",
  "kf_id": 0,
  "send_userid": 10817857838351957,
  "isRoom": true,
  "content": [
    {
      "msgtype": 0,
      "content": "\"十年一刻：\n文件\"\n------\n"
    },
    {
      "msgtype": 0,
      "content": "测试引用消息，引用外部联系人发的文件消息"
    }
  ],
  "quoteMsg": {
    "appinfo": "6697340850319438577",
    "content_type": 102,
    "sender": 7881302555913738,
    "quote_roomid": 10817857838351957,
    "content": {
      "msgtype": 2,
      "file_id": "https://imunion.weixin.qq.com/cgi-bin/mmae-bin/tpdownloadmedia?param=...",
      "file_name": "doc07125520240614090407.pdf",
      "auth_key": "v1_53a9369ab06bc670...",
      "file_size": 1385151,
      "aes_key": "9fad9e4315978d4b2cbb62eb39e04747",
      "md5": "01408d3f3647bfdbba8f741d09e36f3c"
    }
  }
}
```

## 给企微用户发的文件消息，发送引用请求示例
```json
{
  "uuid": "7709ff0d22ab951c6c0770a676f0b44a",
  "kf_id": 0,
  "send_userid": 10817857838351957,
  "isRoom": true,
  "content": [
    {
      "msgtype": 0,
      "content": "\"十年一刻：\n文件\"\n------\n"
    },
    {
      "msgtype": 0,
      "content": "测试引用消息，引用内部联系人发的文件消息"
    }
  ],
  "quoteMsg": {
    "appinfo": "CIGABBD/va7DBhjhs6ywkICAAyAm",
    "content_type": 15,
    "sender": 1688854256622049,
    "quote_roomid": 10817857838351957,
    "content": {
      "msgtype": 2,
      "file_id": "306b02010204643062020193766372d663761626337316135353034020310000502031522c0041001408d3f3647bfdbba8f741d09e36f3c0201050201000400",
      "file_name": "doc07125520240614090407.pdf",
      "file_size": 1385151,
      "aes_key": "31363362373264336336646464356130",
      "md5": "01408d3f3647bfdbba8f741d09e36f3c"
    }
  }
}
```

## 返回示例
- 页面该部分为空（无示例内容）。
